# 브라우저 렌더링

## 브라우저의 렌더링 과정에 대해 설명해주세요

- 사용자가 브라우저에 접속하면 브라우저에서 URL을 DNS를 통해 IP 주소로 변환하고, 해당 IP를 가진 서버에게 GET요청을 보내게 됩니다. 서버에서 응답으로 받은 HTML 데이터를 파싱합니다. 이때 바이트, 문자, 토큰, 노드 순으로 파싱되어 DOM 트리를 구성하게 됩니다. 그 다음 CSS를 바탕으로 CSSOM 트리를 생성합니다. 브라우저의 렌더링 엔진에 의해 DOM 트리와 CSSOM 트리를 결합하여 렌더 트리를 형성합니다. 렌더 트리를 기반으로 레이아웃을 계산하여 브라우저 화면에 픽셀 단위로 페인트하면 렌더링이 완료하게 됩니다.

### 꼬리질문1 ) 브라우저의 렌더링 과정에서 자바스크립트는 어떻게 동작하나요?

- 브라우저의 렌더링 엔진은 HTML을 한 줄씩 순차적으로 파싱하여 DOM을 생성해 나가다가 자바스크립트 파일을 로드하는 스크립트 태그나 링크 태그를 만나면 DOM 생성을 일시 중단합니다. 자바스크립트 파일을 서버에 요청하여 로드한 파일을 파싱하기 위해 자바스크립트 엔진에 제어권을 넘깁니다. 이후 자바스크립트 파싱과 실행이 종료되면 렌더링 엔진으로 다시 제어권을 넘겨 HTML 파싱이 중단된 지점부터 다시 HTML 파싱을 시작하여 DOM 생성을 재개합니다.

### 꼬리질문2) 리플로우, 리페인트에 대해 설명해주세요

- 사용자가 화면을 통해 액션을 수행하게 되면서 HTML요소가 추가되거나 기존의 요소의 스타일이 바뀌는 변동이 일어나게 됩니다. 이러한 변경에 영향을 받아 렌더 트리 생성과 레이아웃 과정을 다시 수행하는 과정을 리플로우라고 합니다. 그리고 그 결과를 다시 화면에 그려내는 것을 리페인트라고 합니다. 기존 요소에 변경 사항이 있다고 해서 항상 리플로우, 리페인트가 일어나는 것은 아니고, 레이아웃에 영향을 미치지 않는 단순한 색상 변경과 같은 변경 사항은 리플로우 없이 리페인트만 일어나게 됩니다.

### 꼬리질문3) 리플로우, 리페인트가 일어나는 대표적인 속성들이 뭐가 있나요?

- 리플로우가 일어나는 대표적인 속성은 position, width, height, margin, border, padding, font-size 등이 있습니다. 리페인트가 일어나는 대표적인 속성은 background, color, text-decoration, border-style, border-radius 가 있습니다.

### 꼬리질문4) 브라우저의 렌더링 방식에 대해 설명해주세요

- SSR과 CSR로 나뉩니다. SSR은 Server Side Rendering의 약자로 서버에서 렌더링 준비를 끝마친 상태로 클라이언트에게 전달하는 방식입니다. 검색 엔진 최적화에 적합하고 초기 로딩 속도가 빠르다는 장점이 있으나 정보를 요청할 때마다 새로고침이 일어나고 바뀔 필요가 없는 부분도 요청이 된다는 단점이 있습니다. 주로 페이지에 데이터가 많이 바뀌거나 상호작용이 적은 웹 사이트에 사용됩니다. CSR은 Client Side Rendering의 약자로 서버는 요청을 받으면 클라이언트에 HTML과 자바스크립트를 보내주고 클라이언트는 이를 받아서 렌더링을 시작하는 방식입니다. 빠른 속도와 서버 부하가 감소되며 필요한 부분의 데이터만 가져오므로 트래픽 감소라는 장점이 있으나 검색 엔진 최적화에 보완이 필요하고 모든 파일이 다운로드 되고 렌더링이 끝나기 전까지 사용자가 볼 수 있는 게 없다는 단점이 있습니다. 주로 사용자에게 보여줘야 하는 데이터 양이 많을 때나 보다 나은 사용자 경험을 제공하기 위해 사용됩니다.


참고: [https://medium.com/개발자의품격/브라우저의-렌더링-과정-5c01c4158ce](https://medium.com/%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98%ED%92%88%EA%B2%A9/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EC%9D%98-%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B3%BC%EC%A0%95-5c01c4158ce)
