# 주소창에 google.com을 입력하면 일어나는 일
1. 사용자가 웹 브라우저를 통해 google.com 을 입력하면 URL 주소 중 도메인 네임 부분을 DNS 서버에서 검색합니다.
2. DNS 서버에서 해당 도메인 네임에 해당하는 IP 주소를 찾아 사용자가 입력한 URL 정보와 함께 전달합니다.
3. 브라우저는 HTTP 프로토콜을 사용하여 요청 메시지를 생성하고 HTTP 요청 메시지는 TCP/IP 프로토콜을 사용하여 서버로 전송됩니다.
4. 서버는 response 메시지를 생성하여 다시 브라우저에게 데이터를 전송합니다.
5. 브라우저는 response를 받아 파싱하여 화면에 렌더링합니다.

## (꼬리질문) DNS란 무엇인가요?
>  DNS란 Domain Name System으로 도메인 이름을 머신이 읽을 수 있는 IP주소로 변환하는 시스템입니다.


## (꼬리질문) DNS 서버에 문제가 생기면 홈페이지에 접속할 수 없나요?
> 할 수도 있고 못 할 수도 있습니다. 말 그대로 DNS 서버만 사용하지 못 하는 것이기 때문에 사용자가 해당 도메인의 IP만 알면 IP로 접근이 가능합니다. 하지만 해당 서버에서 IP로 직접 접근하지 못 하게 막아둔다면 접속할 수 없습니다.

## (꼬리질문) TCP란 무엇인가요?
> TCP란 전송 제어 프로토콜로 두 개의 호스트를 연결하고 데이터 스트림을 교환하게 해주는 중요한 네트워크 프로토콜입니다. TCP는 데이터와 패킷이 보내진 순서대로 전달하는 것을 보장해줍니다.

## (꼬리질문) 서버가 웹 페이지를 요청 받으면 웹서버가 단독으로 요청을 수행하나요?
> 웹 서버 혼자서 모든 로직을 수행하고 데이터를 관리할 수 있다면 간단하겠지만, 그렇게 될 경우엔 서버에 과부하가 일어날 수 있기 때문에 서버의 일을 돕는 조력자 역할을 하는 WAS(Web Application Server)를 이용합니다.

## (꼬리질문) WAS란 무엇인가요?
> WAS는 사용자의 컴퓨터나 장치에 웹어플리케이션을 수행해주는 미들웨어로 웹 서버 단독으로 처리할 수 없는 데이터베이스의 조회나 다양한 로직 처리가 필요한 동적 콘텐츠를 요청을 수행합니다.

## (꼬리질문) 그럼 WAS만 사용해도 되나요?
> 만약 WAS가 정적 컨텐츠 요청까지 처리하면 서버 부하가 커지고 동적 컨텐츠 처리가 지연되면서 수행 속도가 느려지고 이로 인해 페이지 노출 시간이 늘어나는 문제가 발생하여 효율성이 크게 떨어지기 때문에 기능을 분리시켜서 서버 부하를 방지해야 합니다.

## (꼬리질문) 웹서버와 웹어플리케이션서버(WAS)의 차이점은 무엇인가요?
> 웹서버는 정적인 컨텐츠를 요청받아 처리하고 WAS는 동적인 컨텐츠를 요청받아 처리합니다.

---

## 설명 자료

### ‘www.google.com'을 주소창에 입력하면 일어나는 일
1. 사용자가 웹브라우저 검색창에 www.google.com 입력
2. 웹브라우저는 캐싱된 DNS 기록들을 통해 해당 도메인 주소와 대응하는 IP 주소를 확인(이러한 로컬 캐시들이 있는 이유는, 인터넷 속도를 올리기 위해)
  - 브라우저 캐시 : 기존에 www.google.com을 방문했었다면, 구글에 빠르게 접근할 수 있는 내용들이 다 들어있다.
  - OS(Operating System) 캐시 : 운영체제 안에 있는 캐쉬로 ‘systemcall’(요청에 따라 커넬에 접근하기 위한 인터페이스)을 통해 그 내용에 접근할 수 있다.
  - ISP(Internet Sevice Provider) 캐시 : 인터넷을 제공하는 회사
3. 캐싱된 기록이 없을 경우, 웹브라우저가 ISP의 DNS server가 호스팅하고 있는 서버의 IP 주소를 찾기 위해 DNS query 보내면 DNS는 요청 받은 도메인 이름에 대한 IP 주소를 찾아 응답으로 반환한다. 이러한 과정은 최상위 도메인 서버부터 시작하여 하위 도메인의 DNS로 계층적인 구조로 찾게 되며 이를 recursive search 라고 한다.
4. 공인 IP를 발급 받게 되면 사용자와 구글 측의 서버와 HTTP 통신을 하기 위해 TCP 커넥션을 해야한다. TCP는 두 개의 호스트를 연결하고 데이터 스트림을 교환하게 해주는 중요한 네트워크 프로토콜이다.
5. TCP로 연결이 되면 TLS/SSL 커넥션을 맺어야 한다.
6. 연결이 다 끝나면 브라우저는 HTTP GET 요청을 통해 서버에게 www.google.com의 웹페이지를 요구한다.
7. 요청을 받은 서버는 WAS(Web Application Server)의 도움을 받아 요청을 처리하고 웹 브라우저에게 HTML 문서 결과를 응답한다.
  - WAS(Web Application Server)
    > WAS는 사용자의 컴퓨터나 장치에 웹어플리케이션을 수행해주는 미들웨어로 웹 서버 단독으로 처리할 수 없는 데이터베이스의 조회나 다양한 로직 처리가 필요한 동적 콘텐츠를 요청을 수행

    - 웹서버와 웹어플리케이션서버(WAS)의 차이점
      - 웹서버 : 정적인 컨텐츠(HTML, CSS, IMAGE 등)를 요청받아 처리
      - WAS : 동적인 컨텐츠(JSP, ASP, PHP 등)를 요청받아 처리

  - response는 status code로 서버 요청에 따른 상태를 보낸다.
    - 1XX : 정보만 담긴 메세지
    - 2XX : response 성공
    - 3XX : 클라이언트를 다른 URL로 리다이렉트
    - 4XX : 클라이언트 측에서 에러 발생
    - 5XX : 서버 측에서 에러 발생
8. 웹 브라우저는 화면에 웹 페이지 내용물을 출력한다. 

### 참고자료

https://blog.naver.com/dlaxodud2388/223351453007

https://blog.naver.com/dlaxodud2388/223219067412

https://velog.io/@eassy/www.google.com%EC%9D%84-%EC%A3%BC%EC%86%8C%EC%B0%BD%EC%97%90%EC%84%9C-%EC%9E%85%EB%A0%A5%ED%95%98%EB%A9%B4-%EC%9D%BC%EC%96%B4%EB%82%98%EB%8A%94-%EC%9D%BC

https://github.com/Esoolgnah/Frontend-Interview-Questions/blob/main/Notes/important-5/what-happens-when-type-google.md

https://codiving.kr/143

https://codechasseur.tistory.com/25